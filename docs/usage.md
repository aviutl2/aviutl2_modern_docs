# 簡易説明

簡易的な操作説明になります。※細かい説明は今後作成予定です。  
基本的な操作は以前の拡張編集と似たような操作になっています。

## 「ファイル」メニュー

プロジェクトの読み込みや保存、編集データのファイル出力が出来ます。

## 「編集」メニュー

各種編集操作や読み込み済みキャッシュの破棄等が出来ます。

## 「表示」メニュー

各ウィンドウの表示・非表示の切り替え等が出来ます。

## 「設定」メニュー

ショートカットキーの登録や各種メニューの表示順序、
バックアップやキャッシュサイズの設定等が出来ます。

## 「その他」メニュー

バージョン情報やスクリプトの情報が確認出来ます。

## ウィンドウ操作

アプリケーションウィンドウの中に各種ウィンドウを配置出来るようになっています。  
各ウィンドウの境界でマウスのドラッグすることでサイズの変更や位置の入れ替えをすることが出来ます。  
メニューバーの「表示」から各ウィンドウの表示・非表示を変更できます。  
各ウィンドウの右クリックメニューの「ウィンドウ配置」から表示エリアのグループを変更できます。  
各ウィンドウの右クリックメニューの「オプション」からウィンドウに関連する動作設定が変更できます。

## レイヤー編集

レイヤー上の任意の時間位置に画像ファイル等のオブジェクトを配置して表示することが出来ます。  
各種オブジェクト描画やフィルタ処理は上から順に実行されます。

<kbd>Ctrl</kbd>キーを押しながらオブジェクトを操作すると複数のオブジェクトが選択状態になります。  
※グループ化されたオブジェクトも選択状態になります。  
<kbd>Ctrl</kbd>キーを押しながらオブジェクトをダブルクリックすると同じレイヤーのオブジェクトが選択出来ます。  
※オブジェクトの開始終了点でダブルクリックした場合は開始以前終了以降のオブジェクトが選択出来ます。  
<kbd>Ctrl</kbd>キーを押しながらレイヤー名をクリックするとレイヤー上のオブジェクトのみを全選択することが出来ます。  
<kbd>Ctrl</kbd>キーを押しながらマウスドラッグ操作で矩形範囲のオブジェクトを選択することが出来ます。

オブジェクトの開始終了点の操作ではグループで開始終了位置が同一のオブジェクトも移動します。  
※<kbd>Shift</kbd>キーを押している場合はグループの全てのオブジェクトが移動します。  
オブジェクトの中間点の操作で<kbd>Shift</kbd>キーを押している場合は中間点以前以降が移動します。

<kbd>Shift</kbd>キーを押しながら表示フレームを移動するとフレーム範囲選択状態に出来ます。  
※上部のフレーム範囲選択表示をダブルクリックで範囲選択を解除することが出来ます。

メディアファイル、エイリアスファイル（.object）をD&Dすることで読み込むことが出来ます。  
レイヤー名をドラッグするとレイヤー位置を変更できます。  
右クリックドラッグでレイヤーをスクロール出来ます。  
右クリックメニューから各種操作が出来ます。

## プレビュー編集

現在の表示フレームのプレビューを表示します。  
下部のコントロールバーから表示フレームの変更や再生等の操作が出来ます。  
プレビュー表示されているオブジェクトはマウスドラックで移動や拡大縮小することが出来ます。  
※入力設定に「サイズ」項目が存在して「移動無し」の場合は拡大率ではなくサイズを調整します。  
カメラ制御の場合は右クリックドラッグでカメラの視点の変更が出来ます。  
メディアファイル、プロジェクトファイル、エイリアスファイル（.object）をD&Dすることで
現在のフレーム位置のレイヤーに追加することが出来ます。  
右クリックメニューから各種操作が出来ます。

## オブジェクト設定

レイヤーから選択されたオブジェクトの設定が表示されます。  
フィルタ名をドラッグするとフィルタの位置を変更できます。

トラックバーの数値の部分は直接入力できます。※入力中にTabキーで次の候補に移動します。  
数値部分をドラッグすることで値を変更することも出来ます。  
<kbd>Shift</kbd>キーを押しながらドラッグすると細かく変更出来ます。

オブジェクトを選択している状態でTabキー（標準設定）を押すと現在のフレーム上にある
オブジェクトに移動します。既に選択されている場合はその次のレイヤーのオブジェクトに移動します。  
<kbd>Shift</kbd>キーを押しながらだと逆方向に移動します。

複数のオブジェクトを選択した状態でトラックバー（数値入力）、チェックボックス、カラーコードを
変更すると選択オブジェクトの全てに反映します。

対応するメディアファイルをD&Dすることで設定ファイルを変更することが出来ます。  
右クリックドラッグで設定画面をスクロール出来ます。  
右クリックメニューから各種操作が出来ます。

## メディアエクスプローラー

ウィンドウズのエクスプローラーを表示します。  
上部のコントロールバーから表示フォルダの移動が出来ます。  
上部のコントロールバーからの右クリックメニューでブックマークやウィンドウ配置、
アプリケーションデータのフォルダの表示が出来ます。  
※アプリケーションデータのファイル設置はアプリケーション再起動後に反映されます。

## シーンリスト

シーンの一覧を表示します。  
メディアファイルをD&Dすることでシーンを追加することが出来ます。  
※以前の拡張編集のオブジェクトファイル（exo）をシーンとして追加できますが、
様々な仕様の違いがあるので正しく読めない部分が多いです。  
右クリックドラッグで一覧画面をスクロール出来ます。  
右クリックメニューから各種操作が出来ます。

## オブジェクトリスト

現在のフレームのオブジェクトの一覧を表示します。  
右クリックドラッグで一覧画面をスクロール出来ます。  
右クリックメニューから各種操作が出来ます。

## 色設定

選択中オブジェクトの色を設定します。  
オブジェクト設定の色設定項目の設定アイコンをクリックすることで
対象項目の設定を表示することが出来ます。

上部の切り替えアイコンからパレットの作成変更が出来ます。  
パレットの色にはプリセット名を設定することが出来ます。  
プリセット名はオブジェクト設定の色設定項目の選択リストに追加されます。  
プリセット名はテキストスクリプトから呼び出すことが出来ます。

## 時間制御編集

選択中オブジェクトの時間制御設定を編集します。  
オブジェクト設定のトラックバーの移動方法が時間制御に対応している場合に
設定アイコンをクリックすることで対象項目の設定を表示することが出来ます。

時間制御ではオブジェクトの開始から終了までの時間軸を調整することが出来ます。  
横軸が開始値から終了値までの値軸、縦軸が開始時間から終了時間までの時間軸になっています。  
※直線移動（時間制御）、補間移動（時間制御）では中間点の時間は無視され時間制御設定の時間が反映されます。

上部のリストアイコンからプリセットの読み込み、作成をすることが出来ます。  
右クリックメニューから各種操作が出来ます。  
コピー、貼り付け操作は時間制御設定の全体が対象になります。

## テキスト編集

選択中オブジェクトのテキストを編集します。  
オブジェクトがテキストの場合のみ編集することが出来ます。

テキスト編集では<kbd>Ctrl</kbd>+<kbd>Space</kbd>キーで入力補完機能が利用できます。  
フォント名の制御文字部分では設定されているフォントの候補が表示されます。  
カラーコードの制御文字部分では設定されているプリセット色の候補が表示されます。  
それ以外では制御文字のテンプレートメニューが表示されます。

## エイリアス

オブジェクト設定等から現在の設定値でのオブジェクトやフィルタの
エイリアスを作成することが出来ます。

エイリアスの保存フォルダは`ProgramData\aviutl2\Alias`になります。  
※現状では削除機能が無いので直接ファイルを削除してください。

## ショートカットキー

ウィンドウメニューの「設定」→「ショートカットキーの設定」から
ショートカットキーを登録することが出来ます。  
対象のショートカットキー欄をクリックしてからキーを押すことで変更できます。

## オブジェクト追加メニュー

ウィンドウメニューの「設定」→「オブジェクト追加メニューの設定」から
オブジェクトの追加メニューの表示順序や階層、表示/非表示を変更することが出来ます。

対象の項目欄をマウスドラックすることで表示順序が変更できます。  
対象のラベル欄をクリックすると表示階層名を選択、編集することが出来ます。  
右クリックメニューから各種操作が出来ます。

## トラックバー移動メニュー

ウィンドウメニューの「設定」→「トラックバー移動メニューの設定」から
トラックバーの移動方法のメニューの表示順序や階層、表示/非表示を変更することが出来ます。

対象の項目欄をマウスドラックすることで表示順序が変更できます。  
対象のラベル欄をクリックすると表示階層名を選択、編集することが出来ます。  
右クリックメニューから各種操作が出来ます。

## 時間制御プリセットメニュー

ウィンドウメニューの「設定」→「時間制御メニューの設定」から
時間制御のプリセット一覧のメニューの表示順序や階層、表示/非表示を変更することが出来ます。

対象の項目欄をマウスドラックすることで表示順序が変更できます。  
対象のラベル欄をクリックすると表示階層名を選択、編集することが出来ます。  
右クリックメニューから各種操作が出来ます。

## プリセット色メニュー

ウィンドウメニューの「設定」→「プリセット色メニューの設定」から
プリセット色のメニューの表示順序や階層、表示/非表示を変更することが出来ます。

対象の項目欄をマウスドラックすることで表示順序が変更できます。  
対象のラベル欄をクリックすると表示階層名を選択、編集することが出来ます。  
右クリックメニューから各種操作が出来ます。

## フォントメニュー

ウィンドウメニューの「設定」→「フォントメニューの設定」から
フォントのメニューの表示順序や階層、表示/非表示を変更することが出来ます。

対象の項目欄をマウスドラックすることで表示順序が変更できます。  
対象のラベル欄をクリックすると表示階層名を選択、編集することが出来ます。  
右クリックメニューから各種操作が出来ます。

## 入力プラグインの設定

ウィンドウメニューの「設定」→「入力プラグインの設定」から
入力プラグインの優先順位や対応拡張子を変更することが出来ます。  
メディアファイルの読み込み時は対応拡張子が設定されているプラグインが利用されます。

対象のプラグイン欄をマウスドラックすることで優先順位が変更できます。  
右クリックメニューから対象プラグインの設定等の操作が出来ます。

## バックアップ履歴

ウィンドウメニューの「設定」→「バックアップ履歴の設定」から
自動バックアップや編集レジューム、履歴一覧の設定をすることが出来ます。  
バックアップの保存フォルダは`ProgramData\aviutl2\Backup`になります。

## キャッシュサイズ

ウィンドウメニューの「設定」→「キャッシュサイズの設定」から
各種キャッシュサイズの設定を変更することが出来ます。

## 共通操作の設定

ウィンドウメニューの「設定」→「共通操作の設定」から
全体の共通操作の設定を変更することが出来ます。

## 画面・色の設定

ウィンドウメニューの「設定」→「画面・色の設定」から
高DPI表示やYUV入出力変換の設定を変更することが出来ます。  
※アプリケーション起動中のDPIの変更は反映されません。  
※高DPI環境で拡大サイズ表示した場合に見えづらくなる場合があります。

## 言語の設定

ウィンドウメニューの「設定」→「言語の設定」から言語を変更することが出来ます。  
言語ファイル（.aul2）を`ProgramData\aviutl2\Language`に配置することで言語を追加することが出来ます。  
言語ファイル（.aul2）をプレビュー画面にD&Dすることでも設定できます。

## 動画ファイル

指定したAVIファイルや連番BMP,PNG,JPGファイルを読み込みます。  
WindowのMediaFoundationが対応している動画ファイルを読み込むことが出来ます。  
※入力プラグインの設定からMediaFoundationFileReaderの拡張子の登録が必要になります。

## 画像ファイル

指定した画像ファイルを読み込みます。  
WindowのImagingComponent(WIC)が対応している画像ファイルを読み込むことが出来ます。  
※入力プラグインの設定からWICImageFileReaderの拡張子の登録が必要になります。

## 音声ファイル

指定したWAVファイルを読み込みます。  
WindowのMediaFoundationが対応している音声ファイルを読み込むことが出来ます。  
※入力プラグインの設定からMediaFoundationFileReaderの拡張子の登録が必要になります。

## テキスト

テキストを表示します。  
テキストには制御文字が利用できます。

### 色の変更(文字色,影縁色)

`<#[RGB値（16進数）[,RGB値]]>` ※RGB値以外にプリセット色を指定できます
例：`<#ffffff>` `<#000000,ffffff>` `<#>` `<#red>`

### サイズ、フォントの変更

`<s[フォントサイズ][,フォント名][,装飾（B=太字/I=斜体）][,縁取りサイズ]>`
※フォントサイズにプラスマイナスや'\*'を付けると相対の指定になります。  
例：`<s32>` `<s>` `<s72,メイリオ>` `<s72,メイリオ,BI>`

### フォントの変更

`<@[フォント名]>`
例：`<@メイリオ>`

### 表示速度の変更

`<r[表示速度]>`
例：`<r10>` `<r>`

### 表示ウェイト

`<w[待機時間（秒）]>` ※時間の前に'*'を付けると表示した文字数を掛けた時間で待機します
例：`<w5>` `<w0.5>` `<w*0.2>`

### 表示クリア

`<c[クリアまでの待機時間（秒）]>` ※直後の改行は無視されます
例：`<c>` `<c5>` `<c*0.2>`

### 座標の指定

`<p[X,Y[,Z]]>` ※Z座標は個別オブジェクトのみ有効。  
※座標にプラスマイナスを付けると相対の指定になります。座標によっては正しく描画出来ません。  
例：`<p20,40>` `<p20,40,80>` `<p+10,+10>`

### スクリプト

`<?[スクリプト]?>`
`<?=[スクリプトの関数mes()の引数]?>`
例：`<?obj.rz=obj.time*360?>` `<?=string.format("%02d:%02d",obj.time/60,obj.time%60)?>`
※スクリプトの仕様については[Luaスクリプト](./lua/index)を参照してください

## 図形

単色の背景や簡単な図形を表示します。  
図形の種類ボタンからSVGファイルを指定すると図形として利用できます。  
SVGファイルを`ProgramData\aviutl2\Figure`に配置しておくと図形の種類に追加されます。

## フレームバッファ

現在の描画バッファのデータを取り込みます。  
画面全体にフィルタを掛ける場合に利用します。

## グループ制御

下位のレイヤーにあるメディアオブジェクトの描画座標を制御します。  
フィルタ効果の追加で対象のメディアオブジェクト全てにフィルタ効果を適用することが出来ます。

## カメラ制御

下位のレイヤーにあるカメラ制御の対象オブジェクトを
カメラの座標と目標点の方向にあわせて描画します。

## シーンチェンジ

シーン切り替えのエフェクトを追加します。

シーンの切り替わるフレーム位置にシーンチェンジの
開始フレームを合わせるように配置してください。  
動画ファイルオブジェクトの終端にシーンチェンジの先頭を
配置した場合は動画の再生が継続されます。

ワイプ効果を定義したモノクロのPNGファイルを`ProgramData\aviutl2\Transition`に
配置しておくとシーンチェンジの種類に追加されます。

## スクリプト

スクリプトファイルを追加することでアニメーション効果、カスタムオブジェクト、
カメラ効果、シーンチェンジ、トラックバー移動方法を追加することが出来ます。  
※各スクリプトは個別のオブジェクト、フィルタ効果の項目になります。

## レイアウト

UIからの設定は出来ないですが、設定ファイル`style.conf`を設置することで
各種表示レイアウト、色、フォント等を変更することが出来ます。

インストールフォルダにある`style.conf`ファイルを元にして、変更したい項目を
修正したファイルを`ProgramData\aviutl2\style.conf`に設置しておくと反映されます。  
※変更したいセクション項目のみの記載でも大丈夫です。
